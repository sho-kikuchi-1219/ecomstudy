<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ルーレット</title>
  <style type="text/css">
      body{
          display: flex;
          flex-wrap: wrap;
      }
      .cell{
          width: 50px;
          height: 50px;
          background-color: skyblue;
          margin: 5px;
          text-align: center;
          line-height: 50px;
      }
      .hit{
          background-color: pink;
      }
      table.base{
          counter-reset: number;
      }
      table.base th　td{
          counter-increment: number;
          content: counter(number);
      }
      
  </style>  
</head>
<body>
    <table id = "base">
    </table>
    <tr>
        <input type="button" value="スタート" id="start">
        <input type="button" value="ストップ" id="stop">
        <input type="button" value="リセット" id="reset">
    </tr>
</body>

        <script>

        // const num = 16;
        // for (let i = 1; i <= num; i++){
        // const div = document.createElement('div');
        // div.classList.add('cell');
        // div.textContent = i;

            //td.addEventListener('click',() =>{
             //td.classList.add('hit');

            //});

        // document.body.appendChild(div);
        //}
            //4行のtr要素の作成
            let count = 0
            for (let i = 1; i <= 4; i++){
                    const tr = document.createElement('tr');
                    //各tr要素に入れるtd要素の作成
                    for (let j = 1; j <= 4; j++){
                        const td =document.createElement('td');
                        td.classList.add('cell');
                        count++
                        td.textContent = count;
                        td.setAttribute("id",count);
                        //td.addEventListener('click',() =>{
                        //td.classList.add('hit');
                        //});
                        tr.appendChild(td);
                        }
                const base = document.getElementById('base');
                base.appendChild(tr);
            }
            
            //配列要素の準備
            let allIDnumber = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]
            //回転処理
            let roll = function(){
                            let hitClassHTML = document.getElementsByClassName('hit');
                            for (let i = 0; i < hitClassHTML.length; i++){
                                let hitClass = hitClassHTML[i];
                                if (hitClass){
                                    hitClass.classList.remove('hit');
                                }
                            }
                        let randomIDnumber = Math.floor(Math.random()*(allIDnumber.length - 1 + 1));
                        //配列の乱数番目の要素
                        let cellIDnumber = allIDnumber[randomIDnumber];
                        let number = document.getElementById(cellIDnumber);
                        number.classList.add('hit');
                        }
               //スタートボタンの挙動         
            let start = document.getElementById("start");
                    start.addEventListener('click',() =>{
                        //setInterval(roll,100);
                        let remclass = document.getElementById("select");
                        if (remclass){
                                remclass.classList.remove('hit');
                                remclass.removeAttribute("id");
                        }
                        let randomIDnumber = Math.floor(Math.random()*(allIDnumber.length - 1 + 1));
                        //配列の乱数番目の要素
                        let cellIDnumber = allIDnumber[randomIDnumber];
                        let number = document.getElementById(cellIDnumber);
                        number.classList.add('hit');
                        number.setAttribute("id","select");
                        //let selector = number.getAttribute("id");
                    });
                //ストップボタンの挙動
            let stop = document.getElementById("stop");
                    stop.addEventListener('click',() =>{
                        //clearInterval(roll);
                        let randomIDnumber = Math.floor(Math.random()*(allIDnumber.length - 1 + 1));
                        let cellIDnumber = allIDnumber[randomIDnumber];
                        let number = document.getElementById(cellIDnumber);
                        number.classList.add('hit');
                        allIDnumber.splice(randomIDnumber,1); 
                    });
                    //リセットボタンの挙動
            let reset = document.getElementById("reset");
                    reset.addEventListener('click',() =>{
                        //location.reload();
                        //let targetElements = document.getElementsByClassName('hit');
                        //[].forEach.call(targetElements, function(elem) {
                        //elem.classList.remove('hit');
                        //})
                            let hitClassHTML = document.getElementsByClassName('hit');
                            for (let i = 0; i < hitClassHTML.length; i++){
                                let hitClass = hitClassHTML[i];
                                if (hitClass){
                                    hitClass.classList.remove('hit');
                                }
                            }
                    });
        </Script>

</html>